# cpp-middle-project-sprint-5 <!-- omit in toc -->

- [Начало работы](#начало-работы)
- [Сборка проекта и запуск тестов](#сборка-проекта-и-запуск-тестов)
  - [Команды для сборки проекта](#команды-для-сборки-проекта)
  - [Команда для запуска приложения](#команда-для-запуска-приложения)
  - [Команда для запуска тестов](#команда-для-запуска-тестов)
  - [Команда для запуска clang-format](#команда-для-запуска-clang-format)
  - [Команды для запуска отладчика](#команды-для-запуска-отладчика)
- [Настройка автодополнения](#настройка-автодополнения)


Шаблон репозитория для практического задания 5-го спринта «Мидл разработчик С++»

## Начало работы

1. Нажмите зелёную кнопку **Use this template**, затем **Create a new repository**.
2. Назовите свой репозиторий.
3. Склонируйте созданный репозиторий командой `git clone your-repository-name`.
4. Создайте новую ветку командой `git switch -c development`.
5. Откройте проект в Visual Studio Code.
6. Нажмите **F1** и откройте проект в dev-контейнере командой `Dev Containers: Reopen in Container`.

## Сборка проекта и запуск тестов

В репозитории используются три инструмента:

1. **Conan** — менеджер пакетов для C и C++ с открытым исходным кодом (MIT). Позволяет настраивать процесс сборки программ, скачивать и устанавливать сторонние зависимости и необходимые инструменты. Подробнее о Conan:
  - https://habr.com/ru/articles/884464
  - https://docs.conan.io/2.0/tutorial/consuming_packages/build_simple_cmake_project.html
  - https://docs.conan.io/2.0/tutorial/consuming_packages/the_flexibility_of_conanfile_py.html

или 

[CPM.cmake](https://github.com/cpm-cmake/CPM.cmake) — CMake dependency manager — альтернатива Conan, так как в нём доступны не все пакеты.

2. **cmake** — генератор систем сборки для C и C++. Позволяет создавать проекты, которые могут компилироваться на различных платформах разными компиляторами. Подробнее о cmake:
  - https://dzen.ru/a/ZzZGUm-4o0u-IQlb
  - https://neerc.ifmo.ru/wiki/index.php?title=CMake_Tutorial
  - https://cmake.org/cmake/help/book/mastering-cmake/cmake/Help/guide/tutorial/index.html

3. **VS Code Dev Docker container** — Docker-контейнер c окружением, полностью настроенным для выполнение задания. Подробнее:
  - [Почти всё, что вы хотели бы знать про Docker](https://habr.com/ru/articles/822707/)
  - [Официальная документация VS Code](https://habr.com/ru/articles/822707/)
  - [Docker container for VS Code](https://www.youtube.com/watch?v=p9L7YFqHGk4)
  - [Docker in 1 hour](https://www.youtube.com/watch?v=pg19Z8LL06w&t=174s&pp=ygUPRG9ja2VyY29udGFpbmVy)

### Команды для сборки проекта

Используйте `F5`, чтобы:
- Создать папку build.
- Вызвать conan-команды для установки требуемых библиотек и запуска процесса сборки.
- Запустить lldb-отладчик.

### Команда для запуска приложения

```bash
cd build
./GeometryApp
```

### Команда для запуска тестов

```bash
cd build
./GeometryApp_tests
```

### Команда для запуска clang-format

Перед сдачей работы на ревью нужно обязательно запустить файл clang-format.

Запуск clang-format (файл конфигурации .vscode/settings.json) в репозитории настроен автоматически при сохранении любого файла с кодом.

Убедитесь, что эта функциональность работает:
- Добавьте несколько пустых линий в любой файл.
- Сохраните его.
- Если пустые линии удалены, всё работает.
- Если пустые линии не удалены:
    - Нажмите `F1` и выполните команду `clangd: Download language server`.
    - Нажмите `F1` и выполните команду `clangd: Restart language server`.
    - Нажмите `F1` и выполните команду `Developer: Reload Window`.
    - При открытии файла с кодом в нижней части окна VS Code на голубой полоске должно отображаться `clangd: idle`.

### Команды для запуска отладчика

В Visual Studio Code настройки параметров для запуска отладчика находятся в файле .vscode/launch.json. Поскольку в этом файле уже есть одна конфигурация Launch GeometryApp для запуска приложения, которое вычисляет контрольную сумму файла, то для запуска отладчика достаточно нажать `F5` или открыть окно **Run and Debug** комбинацией клавиш **Ctrl+Shift+D**.

## Настройка автодополнения

Для настройки автодополнения `Ctrl + Space`:
- Нажмите `F1` и выполните команду `clangd: Download language server`. VS Code сам предложит установить подходящую версию `clangd` (всплывашка в правом нижнем углу). 
- После завершения установки перезагрузите окно (кнопкой перезапуска справа внизу или нажатием **F1** и выполните команду `Developer: Reload Window`)

Если всё сделано правильно, то после успешной сборки проекта вы сможете использовать автодополнение.
